<h1 style="font-size: 5vw; font-family: BarberFont ; color:#333333; text-align: center;">Admin Dashboard</h1>

<div class="blue content-box">
  <h1>Customers</h1>
  <div class="row">
    <div class="col-lg-6 col-md-offset-3 text-center">
      <div class="form-group">
        <%= form_tag admin_dashboard_index_path, :style=>"text-align:center; color:black;", :method => 'get' do %>
        <%= text_field_tag :search_customers, params[:search], :style=>"text-align:center; margin-bottom:10px;", :class=>"form-control"%>
        <%= submit_tag "Search", :class => 'btn btn-default' %>
        <% end %>
      </div>
    </div>
  </div>

  <table class="table">
    <thead>
      <tr>
        <th scope="row">Avatar</th>
        <th scope="row">Customer name</th>
        <th scope="row">Customer number</th>
        <th scope="row">User Email</th>
        <th colspan="3"></th>
      </tr>
    </thead>

    <tbody>
      <% @customers.each do |customer| %>
      <tr>
        <td><%= image_tag (customer.customer_photo_path) %></td>
        <td><%= customer.customer_name %></td>
        <td><%= customer.customer_number %></td>
        <td><%= customer.user.email %></td>
        <td><%= link_to 'Show', customer, :class => 'btn btn-default'%></td>
        <td><%= link_to 'Edit', edit_customer_path(customer), :class => 'btn btn-default'%></td>
        <td>
          <%= link_to fa_icon("trash"), customer , method: :delete, data: { confirm: 'Are you sure you want to remove this customer?' } %>
        </td>
        <!-- <td><%= link_to 'Destroy', customer, method: :delete, data: { confirm: 'Are you sure?' } %></td> -->
      </tr>
      <% end %>
    </tbody>
  </table>
</div>

<div class="red content-box">
  <h1>Barbers</h1>
  <div class="row">
    <div class="col-lg-6 col-md-offset-3 text-center">
      <div class="form-group">
        <%= form_tag admin_dashboard_index_path, :style=>"text-align:center; color:black;", :method => 'get' do %>
        <%= text_field_tag :search_barbers, params[:search], :style=>"text-align:center; margin-bottom:10px;", :class=>"form-control"%>
        <%= submit_tag "Search", :class => 'btn btn-default' %>
        <% end %>
      </div>

    </div>
  </div>
  <table class="table">
    <thead>
      <tr>
        <th>Avatar</th>
        <th>Barber Name</th>
        <th>Barber Bio</th>
        <th colspan="3"></th>
      </tr>
    </thead>

    <tbody>
      <% @barbers.each do |barber| %>
      <tr>
        <td><%= image_tag (barber.barber_photo_path) %></td>
        <td><%= barber.barber_name %></td>
        <td><%= barber.barber_bio %></td>
        <td><%= link_to 'Show', barber, :class => 'btn btn-default' %></td>
        <td><%= link_to 'Edit', edit_barber_path(barber), :class => 'btn btn-default'%></td>
        <td><%= link_to fa_icon("trash"), barber , method: :delete, data: { confirm: 'Are you sure you want to remove this barber?' } %>
        </td>
      </tr>
      <% end %>
    </tbody>
  </table>
  <%= link_to 'New Barber', new_barber_path, :class => 'btn btn-default' %>
  </br>
  </br>
</div>


<div class="yellow content-box">
  <h1>Services</h1>
  <div class="row">
    <div class="col-lg-6 col-md-offset-3 text-center">
      <div class="form-group">
        <%= form_tag admin_dashboard_index_path, :style=>"text-align:center; color:black;", :method => 'get' do %>
        <%= text_field_tag :search_services, params[:search], :style=>"text-align:center; margin-bottom:10px;", :class=>"form-control"%>
        <%= submit_tag "Search", :class => 'btn btn-default' %>
        <% end %>
      </div>
    </div>
  </div>
  <table class="table">
    <thead>
      <tr>
        <th>Service Name</th>
        <th>Service Description</th>
        <th>Service Duration</th>
        <th>Service Price</th>
        <th colspan="3"></th>
      </tr>
    </thead>

    <tbody>
      <% @services.each do |service| %>
      <tr>
        <td><%= service.service_name %></td>
        <td><%= service.service_description %></td>
        <td><%= service.service_duration %> min</td>
        <td>€<%= service.service_price %></td>
        <td><%= link_to 'Show', service, :class => 'btn btn-default' %></td>
        <td><%= link_to 'Edit', edit_service_path(service), :class => 'btn btn-default'%></td>
        <td><%= link_to fa_icon("trash"), service , method: :delete, data: { confirm: 'Are you sure you want to remove this service?' } %>
        </td>
        </td>
        <!-- <td><%= link_to 'Edit', edit_service_path(service) %></td>
        <td><%= link_to 'Destroy', service, method: :delete, data: { confirm: 'Are you sure?' } %></td> -->
      </tr>
      <% end %>
    </tbody>
  </table>
  <%= link_to 'New Service', new_service_path, :class => 'btn btn-default' %>
  </br>
  </br>

</div>

<div class="green content-box">
  <h1>Appointments</h1>
  <div class="row">
    <div class="col-lg-6 col-md-offset-3 text-center">
      <div class="form-group">
        <%= form_tag admin_dashboard_index_path, :style=>"text-align:center; color:black;", :method => 'get' do %>
        <%= text_field_tag :search_appointments, params[:search], :style=>"text-align:center; margin-bottom:10px;", :class=>"form-control"%>
        <%= submit_tag "Search", :class => 'btn btn-default' %>
        <% end %>
      </div>
    </div>
  </div>
  <table class="table">
    <thead>
      <tr>
        <th>Appointment Date</th>
        <th>Appointment Time</th>
        <th>Appointment Duration</th>
        <th>Total Cost</th>
        <th>Status</th>
        <th>Customer</th>
        <th>Barber</th>
        <th>Services</th>
        <th colspan="3"></th>
      </tr>
    </thead>

    <tbody>
      <% @appointments.each do |appointment| %>
      <tr>
        <td><%= appointment.appointment_date.strftime("%m-%d-%Y") %></td>
        <td><%= appointment.appointment_time.strftime("%H:%M") %></td>
        <td><%= appointment.appointment_duration %> min</td>
        <td>€<%= appointment.total_cost %></td>
        <td><%= appointment.status %></td>
        <td><%= appointment.customer.customer_name %></td>
        <td><%= appointment.barber.barber_name %></td>
        <td><% appointment.services.each do |service| %>
          <p><%= service.service_name %></p>
          <% end %>
        </td>
        <td><%= link_to 'Show', appointment, :class => 'btn btn-default' %></td>
        <td><%= link_to 'Edit', edit_appointment_path(appointment), :class => 'btn btn-default'%></td>
        <td><%= link_to fa_icon("trash"), appointment , method: :delete, data: { confirm: 'Are you sure you want to remove this appointment?' } %>
        </td>

      </tr>
      <% end %>
    </tbody>
  </table>
  <%= link_to 'New Appointment', new_appointment_path, :class => 'btn btn-default' %>
  </br>
  </br>
</div>

<style>
  body {

    color: #ffffff;
  }

  th {
    vertical-align: middle;
    text-align: center;
  }

  td {
    vertical-align: middle !important;
  }

  table {
    vertical-align: middle;
    width: 100%
  }

  .yellow {
    background: #272727de;

  }

  .blue {
    background: #525252d6;
  }

  .red {
    background: #414141e0;
  }

  .content-box {
    display: inline-block;
    margin: 10px 0px;
    text-align: center;
    padding: 0;
    width: 100%;
  }

  .green {
    margin-top: 10px;
    background: #1d1d1dde;
    width: 100%;
  }

  h1 {
    font-family: BarberFont;
    font-size: 2vw;
  }
  i{
    color:#d9534f;
    font-size:50px !important;
    margin-right:20px;
  }
</style>